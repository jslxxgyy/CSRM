<div align="center">

<h2>Cities Skylines Radio Manager，CSRM</h2>
<h3>一个《都市：天际线 2》电台制作软件。<br></h3>
简体中文丨<a href="https://github.com/jslxxgyy/CSRM/blob/main/docs/en/Readme.md">English</a>

</div>

> [!CAUTION]
> **本软件由易语言编写，大部分杀毒软件都会报告风险。请自行添加信任区，编译结果已尽量作打乱处理。**

---

本软件可根据输入的内容生成电台目录树及对应的json配置文件，无需手动编辑 json 文件，可导入/导出电台。自带 ffmpeg，可以将音频文件转换为需要的 .ogg 格式。

> [!TIP]
> 在使用此软件前，请确保已安装 cities-skylines-2 模组 [ExtendedRadio](https://www.cslbbs.net/resources/extendedradio.326/)并能被正常加载。本软件可从CSUL的配置中读取游戏数据目录，建议与CSUL安装在同目录下。

## 使用方法:
### 新建电台：
- 1.首次启动进行设置。
- 2.点击新建电台，打开电台新建窗口
- 3.填写对应信息，标*的为必填。
其中：
- 电台名称对应①
- 电台描述对应②
- 频道名称对应③
- 频道描述对应④
- 节目名称对应⑤
- 节目描述对应⑥
- 开始时间和结束时间对应⑦

<div align="center">
  
<img  src="https://gitee.com/jslxxgyy/CSRM/raw/main/docs/network.png" alt="这就是一张图片" >

</div>

> [!TIP]
> 如果不填写开始时间和结束时间，那么⑦处对应的时间和进度条不会变化。

在以上信息填写完毕后，在右方选择框中，即可向电台中添加音乐。支持主流的音频格式，非`.ogg`文件会调用ffmpeg自动转换。
点击新建电台按钮即可生成电台。生成的电台位置由在设置中填写的游戏数据目录所决定。在生成完成后可导出电台，在输出文件夹中生成`output.zip`文件。

[视频教程](https://www.bilibili.com/video/BV1Hvh1evEuw/)


## 设置说明：
- 模组类型由用户安装的模组来源自行决定。支持PMOD版和BeplnEx版。不同的版本会要求填写不同的游戏相关路径。如果与CSUL安装在同一目录，可从CSUL的配置文件中依据模组类型自动读取路径。
> [!WARNING]
> 从0.2.4版本开始，会停止BeplnEx版模组的支持。

- 临时文件目录是软件运行时的重要目录，会存储在电台创建过程中的关键文件。建议使用“程序目录下的临时目录”选项，或在自定义时设置一个简明易记的位置。在报告问题时需提供完整的临时文件目录内容。
## 功能计划:
- [x] 新建1频道1节目多音乐的电台
- [x] 使用CSUL的配置文件设置游戏相关目录
- [x] 使用ffmpeg转换不为`.ogg`格式的音乐
- [x] 导出zip格式的电台包。
- [x] 一键导入zip格式的电台包
- [ ] 支持自定义电台图标
- [ ] 修改现有电台
- [ ] 新建格式为多频道多节目多音乐的电台
## 问题反馈：
如程序运行过程中出现任何问题，请在备份后清除游戏自定义电台文件目录后再次尝试。若问题仍然存在，请于[CSLBBS](https://www.cslbbs.net/threads/cities-skylines-radio-manager.1053/)提交反馈。考虑到国内访问GitHub较为困难，会优先处理CSLBBS上的问题。
### 在提交问题时：
- 需提供详细的问题说明或提供问题出现的视频或截图
- 需写明程序的版本号及编译时间
- 需上传程序同目录下的`load.ini`文件
- 临时文件目录中有文件需一并上传

### 你这代码保熟吗？
这是我的第一个项目，现在还在早期阶段，代码特性不少，功能不够完善，也没有统一的代码规范。如果你愿意为这个项目作出贡献或提出建议，不用担心，欢迎提交PR/Issues!
